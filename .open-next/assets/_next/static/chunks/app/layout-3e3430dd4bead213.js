(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1290:()=>{},5069:(e,s,r)=>{"use strict";r.d(s,{u:()=>a});var l=r(5125);let a=(e=>{let s=l.A.create({baseURL:e,timeout:1e4,headers:{"Content-Type":"application/json"}});return s.interceptors.request.use(e=>{{let s=localStorage.getItem("token");s&&(e.headers.Authorization="Bearer ".concat(s))}return e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e.data,e=>(console.error("API Error:",e),Promise.reject(e))),s})("http://www.zaocn.top")},5161:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>A});var l=r(5155),a=r(5003),t=r.n(a);r(1290);var n=r(2115),i=r(2152),c=r(959),d=r(8079),o=r(2177),m=r(9150),h=r(2619),x=r.n(h),p=r(63),u=r(5069);let f=()=>(0,l.jsx)("svg",{fill:"none",height:"36",viewBox:"0 0 32 32",width:"36",children:(0,l.jsx)("path",{clipRule:"evenodd",d:"M17.6482 10.1305L15.8785 7.02583L7.02979 22.5499H10.5278L17.6482 10.1305ZM19.8798 14.0457L18.11 17.1983L19.394 19.4511H16.8453L15.1056 22.5499H24.7272L19.8798 14.0457Z",fill:"currentColor",fillRule:"evenodd"})});function g(){let e=(0,p.usePathname)(),s=s=>"/"===s&&"/"===e||e.startsWith(s)&&"/"!==s,[r,a]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{try{let e=await u.u.get("/api/loginurls"),s=null==e?void 0:e.data;a(Array.isArray(s)?s:s?[s]:[]),console.log("我是登陆地址",e.data)}catch(s){var e;(null==s||null==(e=s.response)?void 0:e.status)===404?console.warn("登录地址 API 端点不存在，跳过获取"):console.error("获取登录地址失败:",s)}})()},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(i.H,{className:"lg:w-full lg:h-16 fixed md:w-full md:h-14 max-sm:hidden",children:[(0,l.jsxs)(c.$,{children:[(0,l.jsx)(f,{}),(0,l.jsx)("p",{className:"font-bold text-inherit",children:"ACME"})]}),(0,l.jsxs)(d.t,{className:"hidden sm:flex gap-4",justify:"center",children:[(0,l.jsx)(o.p,{children:(0,l.jsx)(x(),{href:"/",passHref:!0,children:(0,l.jsx)("span",{className:"px-3 py-1.5 rounded-md font-medium transition-all cursor-pointer ".concat(s("/")?"text-primary bg-primary/10 font-bold ":"text-default-700 hover:text-primary hover:bg-primary/5"),children:"首页"})})}),(0,l.jsx)(o.p,{children:(0,l.jsx)(x(),{href:"/pages/articles",passHref:!0,children:(0,l.jsx)("span",{className:"px-3 py-1.5 rounded-md font-medium transition-all cursor-pointer ".concat(s("/pages/articles")?"text-primary bg-primary/10 font-bold ":"text-default-700 hover:text-primary hover:bg-primary/5"),children:"文章"})})}),(0,l.jsx)(o.p,{children:(0,l.jsx)(x(),{href:"/pages/Dynanmin",passHref:!0,children:(0,l.jsx)("span",{className:"px-3 py-1.5 rounded-md font-medium transition-all cursor-pointer ".concat(s("/pages/Dynanmin")?"text-primary bg-primary/10 font-bold ":"text-default-700 hover:text-primary hover:bg-primary/5"),children:"动态"})})}),(0,l.jsx)(o.p,{children:(0,l.jsx)(x(),{href:"/pages/FriendLinks",passHref:!0,children:(0,l.jsx)("span",{className:"px-3 py-1.5 rounded-md font-medium transition-all cursor-pointer ".concat(s("/pages/FriendLinks")?"text-primary bg-primary/10 font-bold ":"text-default-700 hover:text-primary hover:bg-primary/5"),children:"友链"})})}),(0,l.jsx)(o.p,{children:(0,l.jsx)(x(),{href:"/pages/Album",passHref:!0,children:(0,l.jsx)("span",{className:"px-3 py-1.5 rounded-md font-medium transition-all cursor-pointer ".concat(s("/pages/Album")?"text-primary bg-primary/10 font-bold ":"text-default-700 hover:text-primary hover:bg-primary/5"),children:"图册"})})})]}),(0,l.jsx)(d.t,{justify:"end",children:(0,l.jsx)(o.p,{className:"hidden lg:flex flex-row items-center gap-2",children:Array.isArray(r)&&r.map((e,s)=>{let r=(null==e?void 0:e.loginurl)||"";return console.log("我是登陆地址",r),(0,l.jsx)(x(),{href:r,passHref:!0,children:(0,l.jsx)("span",{className:"text-default-700 hover:text-primary",children:(0,l.jsx)(m.rY5,{size:23,color:"#7f7e83"})})},r||s)})})})]}),(0,l.jsx)("nav",{className:"sm:hidden fixed bottom-0 left-0 right-0 z-40 bg-background border-divider",children:(0,l.jsxs)("div",{className:"flex justify-around items-center h-16 px-2",children:[[{label:"首页",href:"/",icon:"\uD83C\uDFE0"},{label:"文章",href:"/pages/articles",icon:"\uD83D\uDCDD"},{label:"动态",href:"/pages/Dynanmin",icon:"\uD83D\uDD04"},{label:"友链",href:"/pages/FriendLinks",icon:"\uD83D\uDD17"},{label:"图册",href:"/pages/Album",icon:"\uD83D\uDCF8"}].map(e=>(0,l.jsxs)(x(),{href:e.href,className:"flex flex-col items-center justify-center w-full py-2 rounded-t-xl transition-all ".concat(s(e.href)?"text-primary font-bold":"text-default-500 hover:text-primary"),children:[(0,l.jsx)("span",{className:"text-xl mb-1",children:e.icon}),(0,l.jsx)("span",{className:"text-xs",children:e.label})]},e.href)),Array.isArray(r)&&r.map((e,s)=>{let r=(null==e?void 0:e.loginurl)||"",a=(null==e?void 0:e.loginName)||"登录";return(0,l.jsxs)(x(),{href:r||"#",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center w-full py-2 rounded-t-xl transition-all text-default-500 hover:text-primary",children:[(0,l.jsx)("span",{className:"text-xl mb-1",children:"\uD83D\uDC64"}),(0,l.jsx)("span",{className:"text-xs",children:a})]},r||"login-".concat(s))})]})}),(0,l.jsx)("div",{className:"sm:hidden pb-28"})]})}var j=r(5239),y=r(7113);function b(){let[e,s]=(0,n.useState)([]),[r,a]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async()=>{try{let e=await u.u.get("/api/left-banners?populate=*");console.log("API 响应数据:",e),Array.isArray(e.data)&&s(e.data)}catch(e){console.error("获取左侧横幅数据失败:",e)}finally{a(!1)}})()},[]),r)?(0,l.jsx)("aside",{className:"hidden lg:block lg:col-span-3",children:(0,l.jsx)("div",{className:"bg-white rounded-xl w-full max-w-sm p-3 md:p-4 sticky top-8",children:(0,l.jsx)("div",{className:"w-full h-28 sm:h-32 md:h-36 flex items-center justify-center",children:"Loading..."})})}):(0,l.jsx)("aside",{className:"hidden lg:block lg:col-span-3",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-sm p-3 md:p-4 sticky top-8",children:[e.map(e=>{var s;let r=(null==(s=e.LeftBanner)?void 0:s.url)||"";console.log("我是左侧图片"),console.log("woshitupian1",r);let a="".concat("http://www.zaocn.top").concat(r);return(0,l.jsx)("div",{className:"w-full h-28 sm:h-32 md:h-36 relative rounded-md overflow-hidden mb-4",children:(0,l.jsx)(j.default,{src:a,alt:"Left Banner",fill:!0,className:"object-cover",unoptimized:!0})},e.id)}),(0,l.jsxs)("div",{className:"w-full h-12 sm:h-14 md:h-16 flex items-center justify-center mt-2",children:[(0,l.jsx)("div",{className:"flex-1 flex items-center justify-center text-sm md:text-base font-medium",children:"Best of the Hot"}),(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(m.Mzm,{color:"#EA7A",size:20})})]}),(0,l.jsx)("div",{className:"w-full h-auto flex items-center justify-center p-1 flex-wrap",children:(0,l.jsx)("div",{className:"w-1/2 h-10 bg-amber-100 rounded-md flex flex-col items-center justify-center text-sm",children:"文章"})})]})})}function v(){return(0,l.jsx)("aside",{className:"lg:block xl:block lg:col-span-4 md:hidden sm:hidden max-lg:hidden xl:col-span-3",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-sm p-4 md:p-6 sticky top-8",children:[(0,l.jsx)("h3",{className:"text-base md:text-lg font-semibold mb-3 md:mb-4",children:"最近回复："}),(0,l.jsx)("div",{className:"space-y-3 md:space-y-4",children:Array.from({length:5}).map((e,s)=>(0,l.jsxs)("div",{className:"flex items-start gap-2 md:gap-3 bg-[#f8f9fb] p-2 md:p-3 rounded-md hover:bg-gray-100 transition-colors",children:[(0,l.jsx)("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-gray-300 flex-shrink-0"}),(0,l.jsx)("div",{className:"flex-1 min-w-0",children:(0,l.jsxs)("p",{className:"text-xs md:text-sm text-gray-600 break-words",children:[(0,l.jsxs)("span",{className:"font-medium",children:["用户",s+1]}),"：就是真的很牛逼啊"]})})]},s))})]})})}var w=r(7847);function N(e){let{children:s}=e;if("/"===(0,p.usePathname)())return(0,l.jsx)(l.Fragment,{children:s});let r=(0,w.zh)({from:{opacity:0,transform:"scale(0.8)"},to:{opacity:1,transform:"scale(1)"},config:{tension:200,friction:15}}),[a,t]=(0,n.useState)([]),[i,c]=(0,n.useState)(!0),[d,o]=(0,n.useState)([]);return((0,n.useEffect)(()=>{let e=async()=>{try{let e=await u.u.get("/api/userinfos?populate=*");Array.isArray(e.data)&&o(e.data),console.log("用户信息头像:",e.data)}catch(e){console.error("获取用户信息失败:",e)}};(async()=>{try{let e=await u.u.get("/api/top-banners?populate=*");Array.isArray(e.data)&&t(e.data)}catch(e){console.error("获取顶部横幅数据失败:",e)}finally{c(!1)}})(),e()},[]),i)?(0,l.jsx)("aside",{className:"hidden lg:block lg:col-span-3",children:(0,l.jsx)("div",{className:"bg-white rounded-xl w-full max-w-sm p-3 md:p-4 sticky top-8",children:(0,l.jsx)("div",{className:"w-full h-28 sm:h-32 md:h-36 flex items-center justify-center",children:"Loading..."})})}):(0,l.jsxs)(w.CS.div,{style:r,className:" bg-gray-50 flex mt-23 flex-col max-sm:mt-[-9rem]",children:[(0,l.jsxs)("header",{className:"relative h-72 sm:w-full  sm:h-96 md:h-96 lg:h-72 xl:h-72 w-full mt-[-1rem] max-sm:mt-[2rem]",children:[a.map(e=>{var s;let r=(null==(s=e.TopBanner)?void 0:s.url)||"",a="".concat("http://www.zaocn.top").concat(r);return(0,l.jsx)("div",{children:(0,l.jsx)(j.default,{src:a,alt:"Banner",fill:!0,className:"object-cover w-full h-full",unoptimized:!0})},e.id)}),(0,l.jsx)("div",{className:"absolute bottom-4 right-4 sm:bottom-6 sm:right-8 md:bottom-8 md:right-12 lg:right-16 xl:right-24",children:d.map(e=>{var s;let r=(null==(s=e.userAv)?void 0:s.url)||"",a="".concat("http://www.zaocn.top").concat(r);return(0,l.jsx)("div",{className:"bg-gray-800 w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-sm shadow-lg",children:(0,l.jsx)(y.Q,{className:"w-full h-full rounded-sm",src:a})},e.id)})})]}),(0,l.jsxs)("div",{className:"flex-1 max-w-screen-2xl mx-auto w-full px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8 grid grid-cols-1 lg:grid-cols-12 gap-4 sm:gap-6 lg:gap-8",children:[(0,l.jsx)(b,{}),(0,l.jsx)("div",{className:"lg:col-span-5 xl:col-span-6 flex flex-col",children:s}),(0,l.jsx)(v,{})]})]})}function A(e){let{children:s}=e;return(0,l.jsx)("html",{lang:"en",children:(0,l.jsxs)("body",{className:t().className,children:[(0,l.jsx)(g,{}),(0,l.jsx)(N,{children:s})]})})}},9317:(e,s,r)=>{Promise.resolve().then(r.bind(r,5161))}},e=>{e.O(0,[211,741,823,589,125,847,7,239,357,37,427,836,441,255,358],()=>e(e.s=9317)),_N_E=e.O()}]);