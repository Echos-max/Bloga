(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[114],{2970:(e,r,a)=>{Promise.resolve().then(a.bind(a,6809))},4071:(e,r,a)=>{"use strict";a.d(r,{l:()=>n});var t=a(2115),s=(null==globalThis?void 0:globalThis.document)?t.useLayoutEffect:t.useEffect;function n(e={}){let{onLoad:r,onError:a,ignoreFallback:l,src:o,crossOrigin:d,srcSet:i,sizes:u,loading:c,shouldBypassImageLoad:g=!1}=e,f=t.useSyncExternalStore(()=>()=>{},()=>!0,()=>!1),m=(0,t.useRef)(f?new Image:null),[b,x]=(0,t.useState)("pending");(0,t.useEffect)(()=>{m.current&&(m.current.onload=e=>{p(),x("loaded"),null==r||r(e)},m.current.onerror=e=>{p(),x("failed"),null==a||a(e)})},[m.current]);let p=()=>{m.current&&(m.current.onload=null,m.current.onerror=null,m.current=null)},h=(0,t.useCallback)(()=>{if(!o)return"pending";if(l||g)return"loaded";let e=new Image;return(e.src=o,d&&(e.crossOrigin=d),i&&(e.srcset=i),u&&(e.sizes=u),c&&(e.loading=c),m.current=e,e.complete&&e.naturalWidth)?"loaded":"loading"},[o,d,i,u,r,a,c,g]);return s(()=>{f&&x(h())},[f,h]),l?"loaded":b}},5069:(e,r,a)=>{"use strict";a.d(r,{u:()=>s});var t=a(5125);let s=(e=>{let r=t.A.create({baseURL:e,timeout:1e4,headers:{"Content-Type":"application/json"}});return r.interceptors.request.use(e=>{{let r=localStorage.getItem("token");r&&(e.headers.Authorization="Bearer ".concat(r))}return e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e.data,e=>(console.error("API Error:",e),Promise.reject(e))),r})("http://www.zaocn.top")},5479:(e,r,a)=>{"use strict";a.d(r,{k:()=>t});var t={solid:{default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",foreground:"bg-foreground text-background"},shadow:{default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground",foreground:"shadow-lg shadow-foreground/40 bg-foreground text-background"},bordered:{default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger",foreground:"bg-transparent border-foreground text-foreground"},flat:{default:"bg-default/40 text-default-700",primary:"bg-primary/20 text-primary-600",secondary:"bg-secondary/20 text-secondary-600",success:"bg-success/20 text-success-700 dark:text-success",warning:"bg-warning/20 text-warning-700 dark:text-warning",danger:"bg-danger/20 text-danger-600 dark:text-danger-500",foreground:"bg-foreground/10 text-foreground"},faded:{default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger",foreground:"border-default bg-default-100 text-foreground"},light:{default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger",foreground:"bg-transparent text-foreground"},ghost:{default:"border-default text-default-foreground",primary:"border-primary text-primary",secondary:"border-secondary text-secondary",success:"border-success text-success",warning:"border-warning text-warning",danger:"border-danger text-danger",foreground:"border-foreground text-foreground hover:!bg-foreground"}}},6809:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>i});var t=a(5155),s=a(7847),n=a(2082);a(5765);var l=a(2115),o=a(5069),d=a(7113);let i=()=>{let[e,r]=(0,l.useState)([]),[a,i]=(0,l.useState)(!0),[u,c]=(0,l.useState)([]),g=(0,s.zh)({from:{opacity:0,transform:"scale(0.95)"},to:{opacity:1,transform:"scale(1)"},config:{tension:200,friction:20}});return((0,l.useEffect)(()=>{let e=async()=>{try{let e=await o.u.get("/api/userinfos?populate=*");Array.isArray(null==e?void 0:e.data)?c(e.data):c([]),console.log("用户信息头像:",e.data)}catch(e){console.error("获取用户信息失败:",e),c([])}};(async()=>{try{i(!0);let e=await o.u.get("/api/dymixes?populate=*"),a=null==e?void 0:e.data;Array.isArray(a)?r(a):(console.warn("动态数据格式不正确，使用空数组"),r([])),console.log("xwxw",e)}catch(e){console.error("获取动态数据失败:",e),r([])}finally{i(!1)}})(),e()},[]),a)?(0,t.jsx)("div",{className:"p-4 text-center",children:"加载中..."}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"space-y-4 min-md:w-full ",children:e.map(e=>(0,t.jsx)("div",{className:"bg-white rounded-lg ",children:(0,t.jsxs)("div",{className:"p-4 flex",children:[(0,t.jsx)(s.CS.div,{style:g,className:"flex-shrink-0 mr-3",children:(0,t.jsx)("div",{className:"w-14  h-full  overflow-hidden relative  ",children:u.map(e=>{var r;let a=(null==(r=e.userAv)?void 0:r.url)||"",s="".concat("http://www.zaocn.top").concat(a);return(0,t.jsx)("div",{className:" w-10 h-10 sm:w-14 sm:h-14 md:w-14 md:h-14 md:rounded-xl ",children:(0,t.jsx)(d.Q,{className:"w-full h-full rounded-sm",src:s})},e.id)})})}),(0,t.jsxs)(s.CS.div,{style:g,className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-semibold text-blue-600 text-lg",children:e.userinfo.nikName}),e.tag&&(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-600 rounded-full",children:e.tag.TagsName})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:e.DymixTime})]}),(0,t.jsx)("div",{className:"text-base text-gray-800 leading-relaxed whitespace-pre-wrap break-words mb-3",children:e.DymixContent}),(()=>{let r=Array.isArray(e.Dymixcover)?e.Dymixcover:e.Dymixcover?[e.Dymixcover]:[];return r&&0!==r.length?(0,t.jsx)(n.A.PreviewGroup,{children:(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:r.slice(0,6).map((e,a)=>{var s,l,o,d,i,u;let c=(null==e||null==(l=e.formats)||null==(s=l.medium)?void 0:s.url)||(null==e||null==(d=e.formats)||null==(o=d.small)?void 0:o.url)||(null==e?void 0:e.url)||(null==e||null==(u=e.formats)||null==(i=u.large)?void 0:i.url)||"",g="http://www.zaocn.top".replace(/\/$/,""),f=c.startsWith("http")?c:"".concat(g).concat(c);try{console.log("Resolved image URL:",f)}catch(e){}let m=5===a&&r.length>6;return(0,t.jsx)("div",{className:"relative aspect-square    overflow-hidden rounded-md ",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.A,{className:"w-full h-full object-cover",src:f,alt:"lamp",preview:!0}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/45 flex items-center justify-center text-white text-xl font-semibold pointer-events-none",children:"+".concat(r.length-6)})]}):(0,t.jsx)(n.A,{simple:!0,className:"w-96 h-full object-cover",src:f,alt:"lamp",preview:!0})},e.id||a)})})}):null})()]})]})},e.id))})})}},7113:(e,r,a)=>{"use strict";a.d(r,{Q:()=>y});var t=a(5155),s=()=>(0,t.jsxs)("svg",{"aria-hidden":"true",fill:"none",height:"80%",role:"presentation",viewBox:"0 0 24 24",width:"80%",children:[(0,t.jsx)("path",{d:"M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z",fill:"currentColor"}),(0,t.jsx)("path",{d:"M17.0809 14.1489C14.2909 12.2889 9.74094 12.2889 6.93094 14.1489C5.66094 14.9989 4.96094 16.1489 4.96094 17.3789C4.96094 18.6089 5.66094 19.7489 6.92094 20.5889C8.32094 21.5289 10.1609 21.9989 12.0009 21.9989C13.8409 21.9989 15.6809 21.5289 17.0809 20.5889C18.3409 19.7389 19.0409 18.5989 19.0409 17.3589C19.0309 16.1289 18.3409 14.9889 17.0809 14.1489Z",fill:"currentColor"})]}),[n,l]=(0,a(5419).q)({name:"AvatarGroupContext",strict:!1}),o=a(5479),d=a(4542),i=a(1920),u=(0,d.tv)({slots:{base:["flex","relative","justify-center","items-center","box-border","overflow-hidden","align-middle","text-white","z-0",...i.zb],img:["flex","object-cover","w-full","h-full","transition-opacity","!duration-500","opacity-0","data-[loaded=true]:opacity-100"],fallback:[...i.KU,"flex","items-center","justify-center"],name:[...i.KU,"font-normal","text-center","text-inherit"],icon:[...i.KU,"flex","items-center","justify-center","text-inherit","w-full","h-full"]},variants:{size:{sm:{base:"w-8 h-8 text-tiny"},md:{base:"w-10 h-10 text-tiny"},lg:{base:"w-14 h-14 text-small"}},color:{default:{base:o.k.solid.default},primary:{base:o.k.solid.primary},secondary:{base:o.k.solid.secondary},success:{base:o.k.solid.success},warning:{base:o.k.solid.warning},danger:{base:o.k.solid.danger}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isBordered:{true:{base:"ring-2 ring-offset-2 ring-offset-background dark:ring-offset-background-dark"}},isDisabled:{true:{base:"opacity-disabled"}},isInGroup:{true:{base:["-ms-2 data-[hover=true]:-translate-x-3 rtl:data-[hover=true]:translate-x-3 transition-transform","data-[focus-visible=true]:-translate-x-3 rtl:data-[focus-visible=true]:translate-x-3"]}},isInGridGroup:{true:{base:"m-0 data-[hover=true]:translate-x-0"}},disableAnimation:{true:{base:"transition-none",img:"transition-none"},false:{}}},defaultVariants:{size:"md",color:"default",radius:"full"},compoundVariants:[{color:"default",isBordered:!0,class:{base:"ring-default"}},{color:"primary",isBordered:!0,class:{base:"ring-primary"}},{color:"secondary",isBordered:!0,class:{base:"ring-secondary"}},{color:"success",isBordered:!0,class:{base:"ring-success"}},{color:"warning",isBordered:!0,class:{base:"ring-warning"}},{color:"danger",isBordered:!0,class:{base:"ring-danger"}}]});(0,d.tv)({slots:{base:"flex items-center justify-center h-auto w-max",count:"hover:-translate-x-0"},variants:{isGrid:{true:"inline-grid grid-cols-4 gap-3"}}});var c=a(2488),g=a(5166),f=a(1337),m=a(5975),b=a(9729),x=a(2115),p=a(4071),h=a(6455),v=(0,a(5657).Rf)((e,r)=>{let{Component:a,ImgComponent:n,src:o,icon:d=(0,t.jsx)(s,{}),alt:i,classNames:v,slots:y,name:w,showFallback:j,fallback:k,getInitials:N,getAvatarProps:C,getImageProps:A}=function(){var e,r,a,t,s,n,o,d;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=(0,c.o)(),y=l(),w=!!y,{as:j,ref:k,src:N,name:C,icon:A,classNames:z,fallback:E,alt:B=C||"avatar",imgRef:I,color:D=null!=(e=null==y?void 0:y.color)?e:"default",radius:G=null!=(r=null==y?void 0:y.radius)?r:"full",size:S=null!=(a=null==y?void 0:y.size)?a:"md",isBordered:M=null!=(t=null==y?void 0:y.isBordered)&&t,isDisabled:U=null!=(s=null==y?void 0:y.isDisabled)&&s,isFocusable:_=!1,getInitials:P=m.XX,ignoreFallback:R=!1,showFallback:T=!1,ImgComponent:$="img",imgProps:q,className:F,onError:K,disableAnimation:L,...O}=i,H=j||"span",Q=(0,g.zD)(k),V=(0,g.zD)(I),{isFocusVisible:W,isFocused:X,focusProps:Z}=(0,b.o)(),{isHovered:J,hoverProps:Y}=(0,h.M)({isDisabled:U}),ee=null!=(n=null!=L?L:null==v?void 0:v.disableAnimation)&&n,er=null!=(d="object"==typeof $&&(null==(o=null==$?void 0:$.displayName)?void 0:o.includes("HeroUI")))&&d,ea="loaded"===(0,p.l)({src:N,onError:K,ignoreFallback:R,shouldBypassImageLoad:void 0!==j||"img"!==$&&!er}),et=!er,es=(!N||!ea)&&T,en=(0,x.useMemo)(()=>{var e;return u({color:D,radius:G,size:S,isBordered:M,isDisabled:U,isInGroup:w,disableAnimation:ee,isInGridGroup:null!=(e=null==y?void 0:y.isGrid)&&e})},[D,G,S,M,U,ee,w,null==y?void 0:y.isGrid]),el=(0,m.$z)(null==z?void 0:z.base,F),eo=(0,x.useMemo)(()=>_||"button"===j,[_,j]),ed=(0,x.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ref:Q,tabIndex:eo?0:-1,"data-hover":(0,m.sE)(J),"data-focus":(0,m.sE)(X),"data-focus-visible":(0,m.sE)(W),className:en.base({class:(0,m.$z)(el,null==e?void 0:e.className)}),...(0,m.v6)(O,Y,eo?Z:{})}},[eo,en,el,Z,O]),ei=(0,x.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ref:V,src:N,"data-loaded":(0,m.sE)(ea),className:en.img({class:null==z?void 0:z.img}),...(0,m.v6)(q,e,(0,f.$)({disableAnimation:ee},{enabled:et}))}},[en,ea,q,ee,N,V,et]);return{Component:H,ImgComponent:$,src:N,alt:B,icon:A,name:C,imgRef:V,slots:en,classNames:z,fallback:E,isImgLoaded:ea,showFallback:es,ignoreFallback:R,getInitials:P,getAvatarProps:ed,getImageProps:ei}}({...e,ref:r}),z=(0,x.useMemo)(()=>!j&&o?null:k?(0,t.jsx)("div",{"aria-label":i,className:y.fallback({class:null==v?void 0:v.fallback}),role:"img",children:k}):w?(0,t.jsx)("span",{"aria-label":i,className:y.name({class:null==v?void 0:v.name}),role:"img",children:N(w)}):(0,t.jsx)("span",{"aria-label":i,className:y.icon({class:null==v?void 0:v.icon}),role:"img",children:d}),[j,o,k,w,v]);return(0,t.jsxs)(a,{...C(),children:[o&&(0,t.jsx)(n,{...A(),alt:i}),z]})});v.displayName="HeroUI.Avatar";var y=v}},e=>{e.O(0,[790,589,125,847,7,176,441,255,358],()=>e(e.s=2970)),_N_E=e.O()}]);